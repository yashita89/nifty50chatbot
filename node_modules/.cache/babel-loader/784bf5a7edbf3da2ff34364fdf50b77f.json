{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nconst useChatbot = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const sendMessage = async userMessage => {\n    setMessages(prev => [...prev, {\n      user: userMessage,\n      bot: ''\n    }]);\n    setLoading(true);\n    try {\n      const response = await fetch('http://localhost:5002/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message: userMessage\n        })\n      });\n      const data = await response.json();\n      setMessages(prev => {\n        const newMessages = [...prev];\n        newMessages[newMessages.length - 1].bot = data.reply;\n        return newMessages;\n      });\n    } catch (error) {\n      console.error('Error sending message:', error);\n      setMessages(prev => {\n        const newMessages = [...prev];\n        newMessages[newMessages.length - 1].bot = 'Sorry, something went wrong.';\n        return newMessages;\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  return {\n    messages,\n    loading,\n    sendMessage\n  };\n};\n_s(useChatbot, \"hq4AwCU/cjqbSZgH8tz5GrloLy8=\");\nexport default useChatbot;","map":{"version":3,"names":["useState","useChatbot","_s","messages","setMessages","loading","setLoading","sendMessage","userMessage","prev","user","bot","response","fetch","method","headers","body","JSON","stringify","message","data","json","newMessages","length","reply","error","console"],"sources":["/Users/yashitakilledar/Stocks/nifty50-ai-chatbot/src/hooks/useChatbot.ts"],"sourcesContent":["import { useState } from 'react';\n\nconst useChatbot = () => {\n    const [messages, setMessages] = useState<{ user: string; bot: string }[]>([]);\n    const [loading, setLoading] = useState(false);\n\n    const sendMessage = async (userMessage: string) => {\n        setMessages((prev) => [...prev, { user: userMessage, bot: '' }]);\n        setLoading(true);\n\n        try {\n            const response = await fetch('http://localhost:5002/api/chat', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ message: userMessage }),\n            });\n\n            const data = await response.json();\n            setMessages((prev) => {\n                const newMessages = [...prev];\n                newMessages[newMessages.length - 1].bot = data.reply;\n                return newMessages;\n            });\n        } catch (error) {\n            console.error('Error sending message:', error);\n            setMessages((prev) => {\n                const newMessages = [...prev];\n                newMessages[newMessages.length - 1].bot = 'Sorry, something went wrong.';\n                return newMessages;\n            });\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return { messages, loading, sendMessage };\n};\n\nexport default useChatbot;"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGJ,QAAQ,CAAkC,EAAE,CAAC;EAC7E,MAAM,CAACK,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMO,WAAW,GAAG,MAAOC,WAAmB,IAAK;IAC/CJ,WAAW,CAAEK,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAE;MAAEC,IAAI,EAAEF,WAAW;MAAEG,GAAG,EAAE;IAAG,CAAC,CAAC,CAAC;IAChEL,UAAU,CAAC,IAAI,CAAC;IAEhB,IAAI;MACA,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAAC,gCAAgC,EAAE;QAC3DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEC,OAAO,EAAEX;QAAY,CAAC;MACjD,CAAC,CAAC;MAEF,MAAMY,IAAI,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;MAClCjB,WAAW,CAAEK,IAAI,IAAK;QAClB,MAAMa,WAAW,GAAG,CAAC,GAAGb,IAAI,CAAC;QAC7Ba,WAAW,CAACA,WAAW,CAACC,MAAM,GAAG,CAAC,CAAC,CAACZ,GAAG,GAAGS,IAAI,CAACI,KAAK;QACpD,OAAOF,WAAW;MACtB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOG,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9CrB,WAAW,CAAEK,IAAI,IAAK;QAClB,MAAMa,WAAW,GAAG,CAAC,GAAGb,IAAI,CAAC;QAC7Ba,WAAW,CAACA,WAAW,CAACC,MAAM,GAAG,CAAC,CAAC,CAACZ,GAAG,GAAG,8BAA8B;QACxE,OAAOW,WAAW;MACtB,CAAC,CAAC;IACN,CAAC,SAAS;MACNhB,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC;EAED,OAAO;IAAEH,QAAQ;IAAEE,OAAO;IAAEE;EAAY,CAAC;AAC7C,CAAC;AAACL,EAAA,CApCID,UAAU;AAsChB,eAAeA,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module"}